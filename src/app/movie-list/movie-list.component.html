<div class="container">
    <div class="row mt-3">
        <div class="col">
            <div class="input-group m-2">
                <input type="text" #myInput class="form-control" [(ngModel)]="name" placeholder="SEARCH MOVIE"
                    aria-label="SERCH MOVIE" (ngModelChange)="serachMovies()" aria-describedby="basic-addon2">
                <!-- <span class="input-group-text" id="basic-addon2">SEARCH</span> -->
            </div>
        </div>
        <div class="col">
            <div class="btn btn-primary m-2" (click)="sortData('Title')">Title Wise Sort</div>
            <div class="btn btn-primary m-2" (click)="sortData('Year')">Year Wise Sort</div>
            <div class="btn btn-primary m-2" (click)="sortData('imdbRating')">Rating Wise Sort</div>
        </div>
    </div>
    <div class="row movielist">
        <div class="col-sm-4 mb-5" *ngFor="let movie of  movieList | paginate: { itemsPerPage: 6, currentPage: p }">
            <div class="card">
                <img class="card-img-top" [src]="movie.Poster" alt="Card image cap" height="200px">
                <div class="card-body ">
                    <p class="card-title moviename">{{movie.Title}}</p>
                    <p class="card-text pr-2"> Year:{{movie.Year}}</p>

                    
                </div>

                <div class="row p-4 mb-2">
                    <div class="col"><i class="fas fa-star"  (click)="addtofavourite(movie)"></i> {{movie.imdbRating}}</div>
                    <div class="col d-flex justify-content-end"><i class="fas fa-info-circle float-right"
                            (click)="openModal(template,movie)"></i></div>
                </div>
            </div>

        </div>

    </div>

    <div class="row">
        <div class="col d-flex  justify-content-center">
            <pagination-controls (pageChange)="p = $event"></pagination-controls>
        </div>

    </div>
</div>


<ng-template #template>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Movie Details</h4>
        <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="modalRef?.hide()">
            <span aria-hidden="true" class="visually-hidden">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col">
                <img src="{{movieDetails.Poster}}" alt="movieimg">
            </div>
            <div class="col">
                <!-- <h4> {{movieDetails.Title | uppercase}} </h4><br /> -->
                <h5> Actors:</h5> {{movieDetails.Actors}}<br>
                <h5>Awards</h5>{{movieDetails.Awards}}<br>
                <b> BoxOffice:</b> {{movieDetails.BoxOffice}} <br>
                <b>Year :</b>{{movieDetails.Year}} <br>
                <b>Country :</b>{{movieDetails.Country}}
                <b>DVD:</b> {{movieDetails.DVD}}
                <b>Director:</b>{{movieDetails.Director}} <br>
                <b>Genre:</b>{{movieDetails.Genre}}
                <b>Language:</b>{{movieDetails.Language}}
                <b>Production:</b>{{movieDetails.Production}}
                <b>Rated:</b>{{movieDetails.Rated}}
                <b>Released:</b>{{movieDetails.Released}}<br>
                <b>Response:</b>{{movieDetails.Response}}
                <b>Writer:</b>{{movieDetails.Writer}}
                <b>imdbID:</b>{{movieDetails.imdbID}}
                <b>imdbRating:</b>{{movieDetails.imdbRating}}
                <b>imdbVotes:</b>{{movieDetails.imdbVotes}}
            </div>
        </div>
    </div>
</ng-template>